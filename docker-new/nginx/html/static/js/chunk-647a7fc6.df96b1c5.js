(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-647a7fc6","chunk-1fa332b7","chunk-722c5e57","chunk-249433bb","chunk-2d22507f"],{"0c59":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"myMap",staticClass:"map_demo"},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:"",value:e.value,disabled:e.disabled,"prefix-icon":"el-icon-location-information",placeholder:"请选择坐标"},nativeOn:{click:function(t){!e.disabled&&e.initMap()}}}),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],attrs:{title:"位置选择",visible:!0,width:"800px","close-on-click-modal":!1,modal:!1},on:{close:function(t){e.visible=!1,e.pointShow=!1}}},[a("div",{staticClass:"boxCon"},[a("div",{staticClass:"indexMap",attrs:{id:"indexMap"}}),a("div",{staticClass:"operate"},[a("el-popover",{attrs:{placement:"right-start",width:"400",trigger:"click",title:"地址搜索"},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[e.type?a("div",{staticClass:"search"},[a("i",{staticClass:"el-icon-sort",on:{click:e.changeType}}),a("el-autocomplete",{staticClass:"margin-tb-6",staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.fetchLocationData,placeholder:"请输入查询关键字"},on:{select:e.handleSelect},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1):a("div",{staticClass:"coordinate"},[a("el-alert",{staticClass:"margin-tb-12",attrs:{"show-icon":"",title:"该系统采用GCJ-02坐标系，请输入该坐标系的数值",type:"warning",closable:!1}}),a("div",{staticClass:"search"},[a("i",{staticClass:"el-icon-sort",on:{click:e.changeType}}),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"经度"},model:{value:e.xValue,callback:function(t){e.xValue=t},expression:"xValue"}}),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"纬度"},model:{value:e.yValue,callback:function(t){e.yValue=t},expression:"yValue"}}),a("el-button",{attrs:{type:"text"},on:{click:e.analysis}},[e._v("搜索")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.place.length>0,expression:"place.length>0"}],staticClass:"list"},e._l(e.place,(function(t,r){return a("div",{key:r,on:{click:e.goTo}},[a("i",{staticClass:"el-icon-location-information"}),e._v(e._s(t))])})),0)],1),a("el-tooltip",{staticClass:"item",attrs:{slot:"reference",transition:"el-zoom-in-center",effect:"dark",content:"搜索",placement:"right"},slot:"reference"},[a("i",{staticClass:"btn el-icon-search"})])],1),a("el-tooltip",{staticClass:"item",attrs:{transition:"el-zoom-in-center",effect:"dark",content:"定位",placement:"right"}},[a("i",{staticClass:"btn el-icon-map-location",on:{click:e.adding}})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.pointShow,expression:"pointShow"}],staticClass:"edit"},[a("el-button",{on:{click:function(t){e.pointShow=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确认")])],1),a("img",{directives:[{name:"show",rawName:"v-show",value:e.pointShow,expression:"pointShow"}],staticClass:"point",attrs:{src:r("7834"),alt:""}})])])],1)},n=[],o=r("5530"),i=r("c14f"),l=r("1da1"),c=(r("d81d"),r("a9e3"),r("d3b7"),r("ac1f"),r("841c"),r("0643"),r("4e3e"),r("a573"),r("159b"),r("862d"),r("b9d0")),s={name:"PointSelect",props:{value:{default:null,type:String},disabled:{default:!1,type:Boolean}},data:function(){return{areaId:null,type:!0,address:null,xValue:null,yValue:null,place:[],isShow:!1,area:[],overlayGroup:[],areaModule:[],visible:!1,pointShow:!1,container:null,marker:[],markerInfo:null}},watch:{isShow:{handler:function(e){e&&(this.address=null,this.type=!0)}}},methods:{initMap:function(){var e=this;return Object(l["a"])(Object(i["a"])().m((function t(){var r,a;return Object(i["a"])().w((function(t){while(1)switch(t.n){case 0:return e.map=new e.AMap.Map("indexMap",{mapStyle:"amap://styles/802500eb9c17892dd91047988cc1ece1",zoom:15,center:[120.15066,33.349802],layers:[new e.AMap.TileLayer.Satellite],doubleClickZoom:!1}),e.placeSearch=new e.AMap.PlaceSearch({city:"全国"}),e.geocoder=new e.AMap.Geocoder({city:"全国"}),e.visible=!0,t.n=1,Object(c["d"])();case 1:r=t.v,e.area=r.rows,e.createAreaPolygon(),e.value&&(a={lng:e.value.split(",")[0],lat:e.value.split(",")[1]},e.setPoint(a));case 2:return t.a(2)}}),t)})))()},createAreaPolygon:function(){var e=this,t=[];this.overlayGroup=[],this.areaModule=[],this.area.forEach((function(r){if(r.landPath){var a=[],n=[];r.landPath.split("|").forEach((function(t){a.push(new e.AMap.LngLat(t.split(",")[0],t.split(",")[1])),n.push([Number(t.split(",")[0]),Number(t.split(",")[1])])}));var o=new e.AMap.Polygon({path:a,fillColor:r.fillColor,fillOpacity:r.fillOpacity,strokeColor:r.strokeColor,strokeWeight:r.strokeWeight,strokeOpacity:r.strokeOpacity,extData:{landId:r.landId}});e.overlayGroup.push(o),t.push(new e.AMap.Text({text:r.landName,anchor:"center",position:e.getAreaCenter(n),style:{background:"transparent",color:"#fff",border:"none"}}))}})),this.AreaPolygonGroup=new this.AMap.OverlayGroup(this.overlayGroup),this.areaModule.push({label:"地块",show:!0,layer:this.AreaPolygonGroup}),this.AreaLabelGroup=new this.AMap.OverlayGroup(t),this.areaModule.push({label:"名称",show:!0,layer:this.AreaLabelGroup}),this.map.add(this.AreaLabelGroup),this.map.add(this.AreaPolygonGroup),this.map.on("click",this.clickOn),this.overlayGroup.forEach((function(t){t.on("click",e.clickOn)}))},changeType:function(){this.type=!this.type,this.address=null,this.xValue=null,this.yValue=null,this.place=[]},analysis:function(){var e=this;this.geocoder.getAddress(new this.AMap.LngLat(this.xValue,this.yValue),(function(t,r){"complete"===t&&"OK"===r.info&&(e.place=[],e.place.push(r.regeocode.formattedAddress))}))},goTo:function(){this.map.panTo([this.xValue,this.yValue])},fetchLocationData:function(e,t){var r=this;e?(clearTimeout(this.timer),this.timer=setTimeout((function(){r.placeSearch.search(e,(function(e,r){t("complete"===e?r.poiList.pois.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{value:e.address})})):[])}))}),1200)):t([])},handleSelect:function(e){var t=this.map,r=(this.searchOverlays,e.location),a=(e.address,r.lng),n=r.lat;t.panTo([a,n])},getAreaCenter:function(e){var t=e.length,r=0,a=0,n=0;e.forEach((function(e){var t,o,i,l=e[0]*Math.PI/180,c=e[1]*Math.PI/180;t=Math.cos(c)*Math.cos(l),o=Math.cos(c)*Math.sin(l),i=Math.sin(c),r+=t,a+=o,n+=i})),r/=t,a/=t,n/=t;var o=Math.atan2(a,r),i=Math.sqrt(r*r+a*a),l=Math.atan2(n,i);return[parseFloat(180*o/Math.PI),parseFloat(180*l/Math.PI)]},adding:function(){var e=this;this.pointShow=!0,this.container=this.$el.querySelector(".indexMap"),this.container.addEventListener("mousemove",(function(t){var r=e.container.getBoundingClientRect(),a=t.clientX-r.left-10,n=t.clientY-r.top-22;e.$el.querySelector(".point").style.left=a+"px",e.$el.querySelector(".point").style.top=n+"px"}))},clickOn:function(e){var t=e.lnglat;this.pointShow&&(this.map.remove(this.marker),this.marker=[],this.setPoint(t))},setPoint:function(e){var t=document.createElement("div"),a=document.createElement("img");a.src=r("7834"),a.setAttribute("width","20px"),a.setAttribute("height","20px"),t.appendChild(a);var n=new this.AMap.Marker({position:[e.lng,e.lat]});n.setContent(t),this.marker.push(n),console.log(this.map),this.map.add(this.marker),this.markerInfo=e.lng+","+e.lat},confirm:function(){this.$emit("input",this.markerInfo),this.pointShow=!1,this.visible=!1}}},u=s,d=(r("ff67"),r("2877")),p=Object(d["a"])(u,a,n,!1,null,"624b495e",null);t["default"]=p.exports},"39c9":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.open,width:"400px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[r("el-form",{ref:"createForm",attrs:{model:e.createForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"行政区划"}},[r("el-cascader",{attrs:{options:e.cityOptions,"change-on-select":""},on:{change:e.changeProvince},model:{value:e.createForm.city,callback:function(t){e.$set(e.createForm,"city",t)},expression:"createForm.city"}})],1),r("el-form-item",{attrs:{label:"设备类型",prop:"deviceType"}},[r("el-select",{attrs:{placeholder:"请选择设备类型"},model:{value:e.createForm.deviceType,callback:function(t){e.$set(e.createForm,"deviceType",t)},expression:"createForm.deviceType"}},e._l(e.dict.type.video_type,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"通道类型",prop:"channelType"}},[r("el-select",{attrs:{placeholder:"请选择设备类型"},model:{value:e.createForm.channelType,callback:function(t){e.$set(e.createForm,"channelType",t)},expression:"createForm.channelType"}},e._l(e.dict.type.channel_type,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"通道数量",prop:"createNum"}},[r("el-input-number",{staticStyle:{width:"220px"},attrs:{"controls-position":"right",placeholder:"请输入生成通道数量",type:"number"},model:{value:e.createForm.createNum,callback:function(t){e.$set(e.createForm,"createNum",t)},expression:"createForm.createNum"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("生 成")]),r("el-button",{on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)},n=[],o=r("ef6c"),i=r("e2de"),l={name:"sipid-dialog",dicts:["video_type","channel_type"],props:{product:{type:Object,default:null}},data:function(){return{loading:!0,title:"生成设备编号和通道",total:0,open:!1,devsipid:"",createForm:{city:"",deviceType:"",channelType:"",createNum:1},cityOptions:o["regionData"],city:"",cityCode:""}},created:function(){},methods:{changeProvince:function(e){if(e&&null!=e[0]&&null!=e[1]&&null!=e[2]){var t=o["CodeToText"][e[0]]+"/"+o["CodeToText"][e[1]]+"/"+o["CodeToText"][e[2]];this.createForm.citycode=t}},submitForm:function(){var e=this;this.createForm.createNum<1?this.$modal.alertError("通道数量至少一个"):(this.createForm.productId=this.product.productId,this.createForm.productName=this.product.productName,this.createForm.tenantId=this.product.tenantId,this.createForm.tenantName=this.product.tenantName,this.createForm.deviceSipId=this.createForm.city[2]+"0000"+this.createForm.deviceType+"0",this.createForm.channelSipId=this.createForm.city[2]+"0000"+this.createForm.channelType+"0",""!==this.createForm.deviceType&&""!==this.createForm.channelType&&3===this.createForm.city.length?Object(i["a"])(this.createForm.createNum,this.createForm).then((function(t){e.$modal.msgSuccess("已生成设备编号和通道"),e.devsipid=t.data,e.confirmSelectProduct()})):this.$message({type:"error",message:"请选择地区，设备类型，通道类型！！"}))},confirmSelectProduct:function(){this.open=!1,this.$emit("addGenEvent",this.devsipid)},closeDialog:function(){this.open=!1}}},c=l,s=r("2877"),u=Object(s["a"])(c,a,n,!1,null,"44791a14",null);t["default"]=u.exports},"3e47":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"device-form"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-row",{class:24==e.proportion?"setting":"",attrs:{gutter:100}},[r("el-col",{attrs:{span:e.proportion}},[r("el-form-item",{attrs:{label:"设备名称",prop:"deviceName"}},[r("el-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.form.deviceName,callback:function(t){e.$set(e.form,"deviceName",t)},expression:"form.deviceName"}})],1),r("el-form-item",{attrs:{label:"所属产品",prop:"productName"}},[r("el-input",{ref:"chooseProInput",attrs:{readonly:"",placeholder:"请选择产品",disabled:1!=e.form.status||24==e.proportion},model:{value:e.form.productName,callback:function(t){e.$set(e.form,"productName",t)},expression:"form.productName"}},[24!=e.proportion?r("el-button",{attrs:{slot:"append",disabled:1!=e.form.status},on:{click:function(t){return e.selectProduct()}},slot:"append"},[e._v("选择")]):e._e()],1)],1),r("el-form-item",{attrs:{label:"设备编号",prop:"serialNumber"}},[r("el-input",{ref:"genSerInput",attrs:{placeholder:"请输入设备编号",disabled:1!=e.form.status,maxlength:"32"},model:{value:e.form.serialNumber,callback:function(t){e.$set(e.form,"serialNumber",t)},expression:"form.serialNumber"}},[3!==e.form.deviceType?r("el-button",{attrs:{slot:"append",loading:e.genDisabled,disabled:1!=e.form.status},on:{click:e.generateNum},slot:"append"},[e._v("生成 ")]):e._e(),3===e.form.deviceType?r("el-button",{attrs:{slot:"append",disabled:1!=e.form.status},on:{click:function(t){return e.genSipID()}},slot:"append"},[e._v("生成 ")]):e._e()],1)],1),r("el-form-item",{attrs:{label:"固件版本",prop:"firmwareVersion"}},[r("el-input",{attrs:{placeholder:"请输入固件版本",type:"number",step:"0.1",disabled:1!=e.form.status||3===e.form.deviceType},model:{value:e.form.firmwareVersion,callback:function(t){e.$set(e.form,"firmwareVersion",t)},expression:"form.firmwareVersion"}},[r("template",{slot:"prepend"},[e._v("Version")])],2)],1),r("el-form-item",{attrs:{label:"禁用设备",prop:"deviceStatus"}},[r("el-switch",{attrs:{"active-text":"","inactive-text":"",disabled:1==e.form.status||3===e.form.deviceType,"active-value":1,"inactive-value":0,"active-color":"#F56C6C"},model:{value:e.deviceStatus,callback:function(t){e.deviceStatus=t},expression:"deviceStatus"}})],1),r("el-form-item",{attrs:{label:"设备影子",prop:"isShadow"}},[r("el-switch",{attrs:{"active-text":"","inactive-text":"","active-value":1,"inactive-value":0,disabled:3===e.form.deviceType},model:{value:e.form.isShadow,callback:function(t){e.$set(e.form,"isShadow",t)},expression:"form.isShadow"}})],1)],1),r("el-col",{attrs:{span:e.proportion}},[24!=e.proportion?r("el-form-item",{attrs:{label:"定位方式",prop:"locationWay"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择设备定位方式",clearable:"",size:"small"},model:{value:e.form.locationWay,callback:function(t){e.$set(e.form,"locationWay",t)},expression:"form.locationWay"}},e._l(e.dict.type.iot_location_way,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:Number(e.value)}})})),1)],1):e._e(),24!=e.proportion?r("el-form-item",{attrs:{label:"设备坐标",prop:"coordinate"}},[r("point-select",{attrs:{disabled:3!=e.form.locationWay},model:{value:e.form.coordinate,callback:function(t){e.$set(e.form,"coordinate",t)},expression:"form.coordinate"}})],1):e._e(),r("el-form-item",{attrs:{label:"所在地址",prop:"networkAddress"}},[r("el-input",{attrs:{placeholder:"请输入设备所在地址",disabled:3!=e.form.locationWay},model:{value:e.form.networkAddress,callback:function(t){e.$set(e.form,"networkAddress",t)},expression:"form.networkAddress"}})],1),r("el-form-item",{attrs:{label:"地块",prop:"landId"}},[r("el-select",{staticClass:"display-block",attrs:{placeholder:"请选择地块"},on:{change:e.handleLandChange},model:{value:e.form.landId,callback:function(t){e.$set(e.form,"landId",t)},expression:"form.landId"}},e._l(e.landList,(function(e){return r("el-option",{key:e.landId,attrs:{label:e.landName,value:e.landId}})})),1)],1)],1)],1)],1),r("div",{staticClass:"position-absolute padding-tb-10 right-10 bottom-10"},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=e.deviceId,expression:"deviceId != 0"}],attrs:{type:"primary",disabled:!e.checkPermi(["iot:device:edit"])},on:{click:e.submitForm}},[e._v("确定")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.deviceId,expression:"deviceId == 0"}],attrs:{type:"primary",disabled:!e.checkPermi(["iot:device:add"])},on:{click:e.submitForm}},[e._v("确定")]),r("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取消")])],1),r("product-list",{ref:"productList",attrs:{productId:e.form.productId},on:{productEvent:function(t){return e.getProductData(t)}}}),r("sipid",{ref:"sipidGen",attrs:{product:e.form},on:{addGenEvent:function(t){return e.getSipIDData(t)}}})],1)},n=[],o=r("c14f"),i=r("1da1"),l=(r("7db0"),r("e9c4"),r("a9e3"),r("b64b"),r("d3b7"),r("ac1f"),r("00b4"),r("0643"),r("fffc"),r("e350")),c=r("e51f"),s=r("39c9"),u=r("584f"),d=r("0c59"),p=r("b9d0"),m={name:"DeviceForm",mixins:[],components:{productList:c["default"],sipid:s["default"],PointSelect:d["default"]},props:{deviceId:{type:[Number,String],default:0},proportion:{type:Number,default:12},deviceInfo:{type:Object,default:function(){return{productId:null,productName:null,deviceType:null,tenantId:null,tenantName:null,coordinate:null,locationWay:null}}}},dicts:["iot_device_status","iot_location_way"],data:function(){return{genDisabled:!1,form:{},landList:[],rules:{deviceName:[{required:!0,message:"设备名称不能为空",trigger:"blur"},{min:2,max:32,message:"设备名称长度在 2 到 32 个字符",trigger:"blur"}],firmwareVersion:[{required:!0,message:"固件版本不能为空",trigger:"blur"}],serialNumber:[{required:!0,message:"设备编号不能为空",trigger:"blur"},{validator:function(e,t,r){var a=/^[0-9a-zA-Z]+$/;a.test(t)||r(new Error("设备编号只能是字母和数字")),r()},trigger:"blur"}],productName:[{required:!0,message:"所属产品不能为空",trigger:"blur"}],landId:[{required:!0,message:"地块不能为空",trigger:"blur"}]}}},computed:{deviceStatus:{set:function(e){this.form.status=1==e?2:0==e?4:this.oldDeviceStatus},get:function(){return 2==this.form.status?1:0}}},watch:{deviceInfo:{handler:function(e){0!=this.deviceId?this.form.coordinate=e.coordinate:(this.form.productId=e.productId,this.form.productName=e.productName,this.form.deviceType=e.deviceType,this.form.tenantId=e.tenantId,this.form.tenantName=e.tenantName,this.form.coordinate=e.coordinate,this.form.locationWay=e.locationWay)},deep:!0},deviceId:{handler:function(e){0!=e?this.getDevice():this.reset()},immediate:!0}},created:function(){this.getLandList()},mounted:function(){},methods:{checkPermi:l["a"],getDevice:function(){var e=this;return Object(i["a"])(Object(o["a"])().m((function t(){var r,a,n;return Object(o["a"])().w((function(t){while(1)switch(t.n){case 0:return r=e.deviceId,t.n=1,Object(u["e"])(r);case 1:a=t.v,n=a.data,n.longitude&&n.latitude?n.coordinate=n.longitude+","+n.latitude:n.coordinate="",e.form=n,console.log(e.form);case 2:return t.a(2)}}),t)})))()},selectProduct:function(){this.$refs.productList.open=!0,this.$refs.productList.getList()},getProductData:function(e){this.form.productId=e.productId,this.form.productName=e.productName,this.form.deviceType=e.deviceType,this.form.tenantId=e.tenantId,this.form.tenantName=e.tenantName,this.$refs.chooseProInput.focus()},getLandList:function(){var e=this;Object(p["d"])().then((function(t){e.landList=t.rows}))},generateNum:function(){var e=this;this.form.productId&&0!=this.form.productId?(this.genDisabled=!0,Object(u["d"])().then((function(t){e.form.serialNumber=t.data,e.$refs.genSerInput.focus(),e.genDisabled=!1}))):this.$modal.alertError("请先选择产品")},genSipID:function(){this.$refs.sipidGen.open=!0},getSipIDData:function(e){this.form.serialNumber=e},reset:function(){this.form={deviceId:0,deviceName:null,productId:null,productName:null,landId:null,landName:null,userId:null,userName:null,tenantId:null,tenantName:null,serialNumber:null,firmwareVersion:1,status:1,rssi:null,isShadow:null,locationWay:1,thingsModelValue:null,networkAddress:null,networkIp:null,coordinate:null,activeTime:null,summary:null,imgUrl:null,delFlag:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null},this.resetForm("form")},handleLandChange:function(e){this.form.landName=this.landList.find((function(t){return t.landId==e})).landName},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var r=e.form.coordinate;if(r){var a=r.split(",");e.form.longitude=a[0],e.form.latitude=a[1]}else e.form.longitude="",e.form.latitude="";0!=e.deviceId?Object(u["n"])(e.form).then((function(t){0==t.data?e.$modal.alertError(t.msg):(e.$modal.alertSuccess("修改成功"),e.form=JSON.parse(JSON.stringify(e.form)),e.$emit("success"))})):Object(u["a"])(e.form).then((function(t){e.form=t.data,e.oldDeviceStatus=e.form.status,null==e.form.deviceId||0==e.form.deviceId?e.$modal.alertError("设备编号已经存在，添加设备失败"):(2==e.form.status&&(e.deviceStatus=1),e.$modal.alertSuccess("添加设备成功"),e.$emit("success"))}))}}))}}},f=m,h=(r("f3c8"),r("2877")),v=Object(h["a"])(f,a,n,!1,null,"1e7ae4a2",null);t["default"]=v.exports},"584f":function(e,t,r){"use strict";r.d(t,"j",(function(){return n})),r.d(t,"m",(function(){return o})),r.d(t,"k",(function(){return i})),r.d(t,"l",(function(){return l})),r.d(t,"i",(function(){return c})),r.d(t,"e",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"f",(function(){return d})),r.d(t,"h",(function(){return p})),r.d(t,"g",(function(){return m})),r.d(t,"a",(function(){return f})),r.d(t,"n",(function(){return h})),r.d(t,"b",(function(){return v})),r.d(t,"d",(function(){return b}));r("5530");var a=r("b775");function n(e){return Object(a["a"])({url:"/iot/device/list",method:"get",params:e})}function o(e){return Object(a["a"])({url:"/iot/device/unAuthlist",method:"get",params:e})}function i(e){return Object(a["a"])({url:"/iot/device/listByGroup",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/iot/device/shortList",method:"get",params:e})}function c(){return Object(a["a"])({url:"/iot/device/all",method:"get"})}function s(e){return Object(a["a"])({url:"/iot/device/"+e,method:"get"})}function u(e){return Object(a["a"])({url:"/iot/device/synchronization/"+e,method:"get"})}function d(e){return Object(a["a"])({url:"/iot/device/getDeviceBySerialNumber/"+e,method:"get"})}function p(){return Object(a["a"])({url:"/iot/device/statistic",method:"get"})}function m(e){return Object(a["a"])({url:"/iot/device/runningStatus/"+e,method:"get"})}function f(e){return Object(a["a"])({url:"/iot/device",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/iot/device",method:"put",data:e})}function v(e){return Object(a["a"])({url:"/iot/device/"+e,method:"delete"})}function b(){return Object(a["a"])({url:"/iot/device/generator",method:"get"})}},"5f0d":function(e,t,r){},7834:function(e,t,r){e.exports=r.p+"static/img/point.0f4b3ced.svg"},"9b9c":function(e,t,r){"use strict";r.d(t,"f",(function(){return n})),r.d(t,"g",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"a",(function(){return l})),r.d(t,"h",(function(){return c})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return d}));var a=r("b775");function n(e){return Object(a["a"])({url:"/iot/product/list",method:"get",params:e})}function o(){return Object(a["a"])({url:"/iot/product/shortList",method:"get"})}function i(e){return Object(a["a"])({url:"/iot/product/"+e,method:"get"})}function l(e){return Object(a["a"])({url:"/iot/product",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/iot/product",method:"put",data:e})}function s(e){return Object(a["a"])({url:"/iot/product/deviceCount/"+e,method:"get"})}function u(e){return Object(a["a"])({url:"/iot/product/status/",method:"put",data:e})}function d(e){return Object(a["a"])({url:"/iot/product/"+e,method:"delete"})}},b9d0:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"e",(function(){return l})),r.d(t,"b",(function(){return c}));var a=r("b775");function n(e){return Object(a["a"])({url:"/agriculture/land/cropLandList",method:"get",params:e})}function o(e){return Object(a["a"])({url:"/agriculture/land/"+e,method:"get"})}function i(e){return Object(a["a"])({url:"/agriculture/land",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/agriculture/land",method:"put",data:e})}function c(e){return Object(a["a"])({url:"/agriculture/land/"+e,method:"delete"})}},cadd:function(e,t,r){},e2de:function(e,t,r){"use strict";r.d(t,"e",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return l})),r.d(t,"l",(function(){return c})),r.d(t,"m",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"f",(function(){return d})),r.d(t,"k",(function(){return p})),r.d(t,"g",(function(){return m})),r.d(t,"h",(function(){return f})),r.d(t,"i",(function(){return h})),r.d(t,"j",(function(){return v}));var a=r("b775");function n(e){return Object(a["a"])({url:"/sip/channel/list",method:"get",params:e})}function o(e){return Object(a["a"])({url:"/sip/channel/"+e,method:"get"})}function i(e,t){return Object(a["a"])({url:"/sip/channel/"+e,method:"post",data:t})}function l(e){return Object(a["a"])({url:"/sip/channel/"+e,method:"delete"})}function c(e,t){return Object(a["a"])({url:"/sip/player/play/"+e+"/"+t,method:"get"})}function s(e,t,r){return Object(a["a"])({url:"/sip/player/playstop/"+e+"/"+t+"/"+r,method:"get"})}function u(e,t){return Object(a["a"])({url:"/sip/player/playstream/"+e+"/"+t,method:"get"})}function d(e,t,r){return Object(a["a"])({url:"/sip/player/playback/"+e+"/"+t,method:"get",params:r})}function p(e,t,r){return Object(a["a"])({url:"/sip/player/playbackStop/"+e+"/"+t+"/"+r,method:"get"})}function m(e,t,r){return Object(a["a"])({url:"/sip/player/playbackPause/"+e+"/"+t+"/"+r,method:"get"})}function f(e,t,r){return Object(a["a"])({url:"/sip/player/playbackReplay/"+e+"/"+t+"/"+r,method:"get"})}function h(e,t,r,n){return Object(a["a"])({url:"/sip/player/playbackSeek/"+e+"/"+t+"/"+r,method:"get",params:n})}function v(e,t,r,n){return Object(a["a"])({url:"/sip/player/playbackSpeed/"+e+"/"+t+"/"+r,method:"get",params:n})}},e350:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("caad"),r("d3b7"),r("2532"),r("0643"),r("9a9a");var a=r("4360");function n(e){if(e&&e instanceof Array&&e.length>0){var t=a["a"].getters&&a["a"].getters.permissions,r=e,n="*:*:*",o=t.some((function(e){return n===e||r.includes(e)}));return!!o}return console.error("need roles! Like checkPermi=\"['system:user:add','system:user:edit']\""),!1}},e51f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"选择产品",visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[r("div",{staticStyle:{"margin-top":"-55px"}},[r("el-divider",{staticStyle:{"margin-top":"-30px"}}),r("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[r("el-input",{attrs:{placeholder:"请输入产品名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productName,callback:function(t){e.$set(e.queryParams,"productName",t)},expression:"queryParams.productName"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),r("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"singleTable",attrs:{data:e.productList,"highlight-current-row":"",size:"mini"},on:{"row-click":e.rowClick}},[r("el-table-column",{attrs:{label:"选择",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("input",{attrs:{type:"radio",name:"product"},domProps:{checked:e.row.isSelect}})]}}])}),r("el-table-column",{attrs:{label:"产品名称",align:"center",prop:"productName"}}),r("el-table-column",{attrs:{label:"分类名称",align:"center",prop:"categoryName"}}),r("el-table-column",{attrs:{label:"租户名称",align:"center",prop:"tenantName"}}),r("el-table-column",{attrs:{label:"授权码",align:"center",prop:"status",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.isAuthorize?r("el-tag",{attrs:{type:"success"}},[e._v("启用")]):e._e(),0==t.row.isAuthorize?r("el-tag",{attrs:{type:"info"}},[e._v("未启用")]):e._e()]}}])}),r("el-table-column",{attrs:{label:"认证方式",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("dict-tag",{attrs:{options:e.dict.type.iot_vertificate_method,value:t.row.vertificateMethod}})]}}])}),r("el-table-column",{attrs:{label:"联网方式",align:"center",prop:"networkMethod"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("dict-tag",{attrs:{options:e.dict.type.iot_network_method,value:t.row.networkMethod}})]}}])}),r("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.parseTime(t.row.createTime,"{y}-{m}-{d}")))])]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelectProduct}},[e._v("确定")]),r("el-button",{attrs:{type:"info"},on:{click:e.closeDialog}},[e._v("关 闭")])],1)])},n=[],o=(r("a9e3"),r("9b9c")),i={name:"ProductList",dicts:["iot_vertificate_method","iot_network_method"],props:{productId:{type:Number,default:0}},data:function(){return{loading:!0,total:0,open:!1,productList:[],product:{},queryParams:{pageNum:1,pageSize:10,productName:null,categoryId:null,categoryName:null,tenantId:null,tenantName:null,isSys:null,status:2,deviceType:null,networkMethod:null}}},created:function(){},methods:{getList:function(){var e=this;this.loading=!0,Object(o["f"])(this.queryParams).then((function(t){e.productList=t.rows,e.total=t.total,0!=e.productId&&e.setRadioSelected(e.productId),e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},rowClick:function(e){null!=e&&(this.setRadioSelected(e.productId),this.product=e)},setRadioSelected:function(e){for(var t=0;t<this.productList.length;t++)this.productList[t].productId==e?this.productList[t].isSelect=!0:this.productList[t].isSelect=!1},confirmSelectProduct:function(){this.$emit("productEvent",this.product),this.open=!1},closeDialog:function(){this.open=!1}}},l=i,c=r("2877"),s=Object(c["a"])(l,a,n,!1,null,null,null);t["default"]=s.exports},f3c8:function(e,t,r){"use strict";r("cadd")},ff67:function(e,t,r){"use strict";r("5f0d")}}]);