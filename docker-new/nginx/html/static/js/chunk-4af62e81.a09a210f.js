(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4af62e81","chunk-26ab8df8","chunk-8af5fb3c","chunk-2d0aaf2a"],{"12d7":function(t,e,a){"use strict";a.r(e),a.d(e,"pieChart",(function(){return o})),a.d(e,"lineChart",(function(){return s})),a.d(e,"barChart",(function(){return c})),a.d(e,"mapChart",(function(){return l}));a("99af"),a("a15b"),a("b0c0");var n=a("2b0e"),i=a("35c3"),r=new n["default"],o=function(t,e,a,n,i){var o=r.$echarts.init(t),s={color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],tooltip:{trigger:"item"},series:[{name:e||"seriesName",type:"pie",center:["50%","50%"],radius:["60%","70%"],itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},avoidLabelOverlap:!1,label:{show:!0,position:"center",formatter:["{a|".concat(i||0,"}"),"{b|".concat(a||"formatterTitle","}")].join("\n"),rich:{a:{fontSize:"30px",fontWeight:"bold"},b:{color:"#666",lineHeight:40}}},data:n||[{value:1048,name:"18-30岁"},{value:735,name:"31-40岁"},{value:580,name:"41-50岁"},{value:300,name:"50-60岁"},{value:300,name:"60岁以上"}]}]};s&&o.setOption(s)},s=function(t,e,a,n,i,o){var s=r.$echarts.init(t),c={legend:{data:[e||"seriesName"]},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:n||["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:a.name||"yAxisName",min:a.min||0,max:a.max||250,interval:a.interval||50,axisLabel:{formatter:"{value}"}}],series:[{name:e||"seriesName",type:o||"bar",data:i||[2,4.9,7,23.2,25.6,76.7,135.6,162.2,32.6,20,6.4,3.3]}]};c&&s.setOption(c)},c=function(t){var e=r.$echarts.init(t),a={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["使用","闲置","其他"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:["CPU","内存","硬盘"]},series:[{name:"使用",type:"bar",stack:"total",label:{show:!0},barWidth:15,itemStyle:{borderRadius:5},emphasis:{focus:"series"},data:[320,302,301]},{name:"闲置",type:"bar",stack:"total",label:{show:!0},itemStyle:{borderRadius:5},emphasis:{focus:"series"},data:[120,132,220]},{name:"其他",type:"bar",stack:"total",label:{show:!0},itemStyle:{borderRadius:5},emphasis:{focus:"series"},data:[220,182]}]};a&&e.setOption(a)},l=function(t,e,a,n,o){var s=r.$echarts.init(t);r.$echarts.registerMap("china",{geoJSON:i});var c={title:{text:"产品溯源统计",subtext:"我们的产品走过了".concat(e.length,"个城市，被客户查询了").concat(a,"次"),x:"center",y:"top",textStyle:{color:"#2b7",fontSize:"29"},subtextStyle:{color:"#C0C4CC",fontSize:"15",height:"40",lineHeight:"40"}},toolbox:{},visualMap:{min:0,max:1e3,show:!0,type:"piecewise",pieces:[{gt:1500},{gt:900,lte:1500},{gt:310,lte:1e3},{gt:200,lte:300},{gt:0,lte:200,color:"#2b7"}],textStyle:{color:o?"#ffffff":"#666"}},geo:{map:"china",roam:!0,show:!0,zoom:1.7,top:250,select:{disabled:!1},itemStyle:{borderColor:"#fff",borderWidth:2,areaColor:n||"#e6e8eb"}},tooltip:{show:!0,formatter:function(t,e,a){return"在".concat(t.data.name,"查询了").concat(t.data.value[2],"次")}},series:[{type:"scatter",symbol:"image://data:image/png;base64,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",symbolSize:"28",coordinateSystem:"geo",data:e,label:{show:!1}}]};c&&s.setOption(c)}},"1e4b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"index"},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("data-panel",{attrs:{title:"基地概况"}},[n("div",{staticClass:"main flex fdc "},[n("el-row",{staticClass:"flex1",attrs:{gutter:10}},[n("el-col",{staticClass:"h100 flex aic",attrs:{span:8}},[n("data-box",{staticClass:"flex1",attrs:{icon:"el-icon-s-data",backgroundColor:"#5470c6",text:"基地面积(亩)",value:t.baseInfo.areaCount}})],1),n("el-col",{staticClass:"h100 flex aic",attrs:{span:8}},[n("data-box",{staticClass:"flex1",attrs:{icon:"el-icon-s-finance",backgroundColor:"#91cc75",text:"种养种类(种)",value:t.baseInfo.germplasmCount}})],1),n("el-col",{staticClass:"h100 flex aic",attrs:{span:8}},[n("data-box",{staticClass:"flex1",attrs:{icon:"el-icon-s-grid",backgroundColor:"#fac858",text:"地块数量(块)",value:t.baseInfo.diCount}})],1)],1),n("el-row",{staticClass:"margin-top-10 flex1",attrs:{gutter:10}},[n("el-col",{staticClass:"h100 flex aic",attrs:{span:8}},[n("data-box",{staticClass:"flex1",attrs:{icon:"el-icon-s-custom",backgroundColor:"#ee6666",text:"人员总数(位)",value:t.baseInfo.employeeCount}})],1),n("el-col",{staticClass:"h100 flex aic",attrs:{span:8}},[n("data-box",{staticClass:"flex1",attrs:{icon:"el-icon-s-claim",backgroundColor:"#73c0de",text:"种植批次(批)",value:t.baseInfo.batchCount}})],1),n("el-col",{staticClass:"h100 flex aic",attrs:{span:8}},[n("data-box",{staticClass:"flex1",attrs:{icon:"el-icon-s-shop",backgroundColor:"#3ba272",text:"大棚数量(个)",value:t.baseInfo.pengCount}})],1)],1)],1)])],1),n("el-col",{attrs:{span:8}},[n("data-panel",{attrs:{title:"设备统计",more:"更多设备",link:"/iot/device"}},[n("div",{staticClass:"main"},[n("el-row",{staticClass:"h100",attrs:{gutter:10}},[n("el-col",{staticClass:"h100",attrs:{md:10}},[n("div",{ref:"indexDeviceCountChart",staticClass:"h100"})]),n("el-col",{staticClass:"h100 flex fdc jcsa",attrs:{md:7}},t._l(t.deviceCountList.slice(0,2),(function(t){return n("data-box",{key:t.productId,attrs:{icon:"el-icon-s-promotion",backgroundColor:"red",text:t.name+"(台)",value:t.value,isBorder:!1,isIcon:!1}})})),1),n("el-col",{staticClass:"h100 flex fdc jcsa",attrs:{md:7}},t._l(t.deviceCountList.slice(2,4),(function(t){return n("data-box",{key:t.productId,attrs:{icon:"el-icon-s-promotion",backgroundColor:"red",text:t.name+"(台)",value:t.value,isBorder:!1,isIcon:!1}})})),1)],1)],1)])],1),n("el-col",{attrs:{span:8}},[n("data-panel",{attrs:{title:"设备定时任务"}},[n("div",{staticClass:"main"},[n("el-row",{staticClass:"h100",attrs:{gutter:10}},[n("el-col",{staticClass:"h100",attrs:{md:10}},[n("div",{ref:"indexDeviceControlChart",staticClass:"h100"})]),n("el-col",{staticClass:"h100 flex fdc jcsa",attrs:{md:7}},t._l(t.deviceJobCountList,(function(t){return n("data-box",{key:t.status,attrs:{icon:"el-icon-s-promotion",backgroundColor:"red",text:1==t.status?"暂停(条)":"启用(条)",value:t.jobCount,isBorder:!1,isIcon:!1}})})),1),n("el-col",{staticClass:"h100 flex fdc jcsa",attrs:{md:7}},t._l(t.deviceJobCountList,(function(t){return n("data-box",{key:t.status,attrs:{icon:"el-icon-s-promotion",backgroundColor:"red",text:0==t.status?"执行成功(次)":"执行失败(次)",value:t.resultCount,isBorder:!1,isIcon:!1}})})),1)],1)],1)])],1)],1),n("el-row",{staticClass:"margin-top-10",attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("data-panel",{attrs:{title:"溯源统计",more:"更多溯源",link:"/trace/recordCount"}},[n("div",{staticClass:"main"},[n("div",{ref:"indexDeviceMonitorChart",staticClass:"h100"})])]),n("data-panel",{staticClass:"margin-top-10",attrs:{title:"农事统计",more:"更多农事",link:"/agriculture/task"}},[n("div",{staticClass:"main"},[n("el-row",{staticClass:"h100",attrs:{gutter:10}},[n("el-col",{staticClass:"h100",attrs:{md:10}},[n("div",{ref:"indexServiceMonitorChart",staticClass:"h100"})]),n("el-col",{staticClass:"h100 flex fdc jcsa",attrs:{md:7}},t._l(t.taskInfo.slice(0,2),(function(t){return n("data-box",{key:t.name,attrs:{icon:"el-icon-s-promotion",backgroundColor:"red",text:t.name+"(条)",value:t.value,isBorder:!1,isIcon:!1}})})),1),n("el-col",{staticClass:"h100 flex fdc jcsa",attrs:{md:7}},t._l(t.taskInfo.slice(2,4),(function(t){return n("data-box",{key:t.name,attrs:{icon:"el-icon-s-promotion",backgroundColor:"red",text:t.name+"(条)",value:t.value,isBorder:!1,isIcon:!1}})})),1)],1)],1)])],1),n("el-col",{attrs:{span:16}},[n("data-panel",{attrs:{title:"地图管理",more:"地图管理",link:"/agriculture/map"}},[n("div",{staticClass:"mapMain"},[n("div",{staticClass:"h100",attrs:{id:"indexMap"}})])])],1)],1)],1),n("el-card",{staticStyle:{margin:"10px 10px 10px 10px"},attrs:{shadow:"none"}},[n("el-row",{attrs:{gutter:40}},[n("el-col",{staticStyle:{padding:"40px"},attrs:{xs:24,sm:24,md:10,lg:10,xl:10}},[n("div",{staticStyle:{padding:"30px",margin:"20px 0","font-size":"14px"}},[n("div",{staticStyle:{"font-size":"28px","font-weight":"bold","margin-bottom":"20px"}},[t._v("青蛙智慧农业平台")]),n("div",{staticStyle:{display:"table","font-size":"14px","margin-bottom":"10px"}},[n("div",{staticStyle:{display:"table-cell","line-height":"22px"}},[n("b",{staticStyle:{color:"#67C23A","margin-right":"10px"}},[t._v("开源版本采用AGPL-3.0许可协议，商用需要获得授权")])])]),n("div",{staticStyle:{display:"table","margin-bottom":"10px"}},[n("div",{staticStyle:{width:"70px","font-weight":"bold",display:"table-cell"}},[t._v("开源版本：")]),n("div",{staticStyle:{display:"table-cell","line-height":"22px"}},[t._v("可用于个人学习和使用，非商业用途")])]),n("div",{staticStyle:{display:"table"}},[n("div",{staticStyle:{width:"70px","font-weight":"bold",display:"table-cell"}},[t._v("商业版本：")]),n("div",{staticStyle:{display:"table-cell","line-height":"22px"}},[t._v("商业用途，并提供所有源码，功能优先开源版本发布。"),n("br"),n("el-link",{attrs:{target:"_blank",href:"http://www.zosoft.top/docs/chanpinshouquan/chanpinshouquan.html"}},[t._v("查看详情 >>")])],1)])]),n("div",{staticStyle:{padding:"30px","font-size":"14px"}},[n("div",{staticStyle:{float:"left",width:"230px"}},[n("el-image",{staticStyle:{width:"210px"},attrs:{src:a("2171")}})],1),n("div",{staticStyle:{float:"left"}},[n("div",{staticStyle:{"font-size":"18px","font-weight":"bold",margin:"16px 0"}},[t._v("微信扫一扫，联系作者")]),n("div",{staticStyle:{"font-size":"14px","font-weight":"bold",margin:"16px 0",color:"#F56C6C"}},[t._v("右侧是移动端H5版本演示 "),n("br"),t._v("(包含安卓和苹果APP) ")]),n("div",{staticStyle:{"font-size":"14px","font-weight":"bold",margin:"16px 0"}},[t._v("摄像头控制使用的是touch事件，PC端会失效，"),n("br"),t._v("请手机端访问:http://h5.zosoft.top/")]),n("div",{staticStyle:{display:"table","margin-bottom":"10px"}},[n("div",{staticStyle:{width:"70px","font-weight":"bold",display:"table-cell"}},[t._v("官方网站")]),n("div",{staticStyle:{display:"table-cell"}},[n("el-link",{attrs:{target:"_blank",href:"https://www.zosoft.top.cn/"}},[t._v("www.zosoft.top")])],1)]),n("div",{staticStyle:{display:"table","margin-bottom":"10px"}},[n("div",{staticStyle:{width:"70px","font-weight":"bold",display:"table-cell"}},[t._v("在线文档")]),n("div",{staticStyle:{display:"table-cell"}},[n("el-link",{attrs:{target:"_blank",href:"http://www.zosoft.top/docs/chanpinwendang/bendiyunxing.html"}},[t._v("www.zosoft.top/doc")])],1)]),n("div",{staticStyle:{display:"table","margin-bottom":"15px"}},[n("div",{staticStyle:{width:"70px","font-weight":"bold",display:"table-cell"}},[t._v("系统源码")]),n("div",{staticStyle:{display:"table-cell"}},[n("el-link",{attrs:{target:"_blank",href:"https://gitee.com/nealtsiao/frog-smart-agriculture",type:"danger"}},[t._v("Gitee源码")])],1)])])])]),n("el-col",{staticStyle:{padding:"40px 40px 0 40px"},attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[n("div",{staticClass:"phone"},[n("iframe",{staticClass:"phone-container",attrs:{src:"http://h5.zosoft.top/#/pages/home/index",id:"iframe",frameborder:"0",scrolling:"auto",height:"100%",width:"100%"}})])])],1)],1)],1)},i=[],r=a("c14f"),o=a("1da1"),s=(a("7db0"),a("d81d"),a("fb6a"),a("b680"),a("d3b7"),a("0643"),a("fffc"),a("4e3e"),a("a573"),a("159b"),a("b775"));function c(){return Object(s["a"])({url:"/agriculture/statistics/selectBaseInfo",method:"get"})}function l(){return Object(s["a"])({url:"/agriculture/statistics/selectDeviceInfo",method:"get"})}function u(){return Object(s["a"])({url:"/agriculture/statistics/selectDeviceJobInfo",method:"get"})}function d(){return Object(s["a"])({url:"/agriculture/statistics/selectTraceInfo",method:"get"})}function f(){return Object(s["a"])({url:"/agriculture/statistics/selectTaskInfo",method:"get"})}var g=a("ee59"),p=a("f963"),b=a("12d7"),h=a("b9d0"),m=a("584f"),v=a("d415"),C={name:"",components:{DataPanel:g["default"],DataBox:p["default"]},data:function(){return{landList:[],deviceList:[],baseUrl:"/prod-api",baseInfo:{areaCount:0,germplasmCount:0,diCount:0,employeeCount:0,batchCount:0,pengCount:0},deviceCountList:[],deviceTotal:0,deviceJobCountList:[],traceInfo:{date:[],num:[]},taskInfo:[]}},mounted:function(){var t=this;return Object(o["a"])(Object(r["a"])().m((function e(){return Object(r["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,t.getBaseInfo();case 1:return t.initMap(),e.n=2,t.getDate();case 2:return Object(b["pieChart"])(t.$refs.indexDeviceCountChart,"设备数量","设备总数(个)",t.deviceCountList,t.deviceTotal),Object(b["pieChart"])(t.$refs.indexDeviceControlChart,"定时任务","总任务数(条)",t.$deviceJob,t.$jobTotal),Object(b["lineChart"])(t.$refs.indexDeviceMonitorChart,"溯源次数",{name:"溯源次数"},t.traceInfo.date,t.traceInfo.num),Object(b["pieChart"])(t.$refs.indexServiceMonitorChart,"农事任务","任务进度(%)",t.taskInfo,t.$taskTotal),e.n=3,t.getDeviceList();case 3:return e.n=4,t.getLandList();case 4:t.addFeatures();case 5:return e.a(2)}}),e)})))()},methods:{initMap:function(){var t=this;return Object(o["a"])(Object(r["a"])().m((function e(){return Object(r["a"])().w((function(e){while(1)switch(e.n){case 0:t.map=new t.AMap.Map("indexMap",{viewMode:"3D",mapStyle:"amap://styles/802500eb9c17892dd91047988cc1ece1",zoom:16,center:t.$zb,layers:[new t.AMap.TileLayer.Satellite]}),t.map.addControl(new t.AMap.Scale),t.map.addControl(new t.AMap.MapType);case 1:return e.a(2)}}),e)})))()},getBaseInfo:function(){var t=this;return Object(o["a"])(Object(r["a"])().m((function e(){var a,n;return Object(r["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,Object(v["b"])();case 1:a=e.v,n=a.data,t.$zb=n.baseCoordinate.split(",");case 2:return e.a(2)}}),e)})))()},getLandList:function(){var t=this;return Object(o["a"])(Object(r["a"])().m((function e(){var a,n;return Object(r["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,Object(h["d"])();case 1:a=e.v,n=a.rows,t.landList=n;case 2:return e.a(2)}}),e)})))()},getDeviceList:function(){var t=this;return Object(o["a"])(Object(r["a"])().m((function e(){var a,n;return Object(r["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,Object(m["j"])();case 1:a=e.v,n=a.rows,t.deviceList=n;case 2:return e.a(2)}}),e)})))()},addFeatures:function(){var t=this;this.landList.forEach((function(e){var a=e.landPath,n=e.fillColor,i=e.fillOpacity,r=e.strokeColor,o=e.strokeOpacity,s=e.strokeWeight,c=e.landName,l=a&&a.split("|").map((function(t){return t.split(",")})),u=t.getAreaCenter(l);l&&(t.map.add(new t.AMap.Polygon({path:l,fillColor:n,fillOpacity:i,strokeColor:r,strokeOpacity:o,strokeWeight:s})),t.map.add(new t.AMap.Text({position:u,anchor:"center",text:c,style:{background:"none",border:"none",color:"#fff"}})))})),this.deviceList.forEach((function(e){if(e.longitude&&e.latitude){var a=new t.AMap.Marker({icon:new t.AMap.Icon({image:t.baseUrl+e.imgUrl.split(",")[1],imageSize:new t.AMap.Size(26,26)}),position:[e.longitude,e.latitude],title:e.deviceName,anchor:"bottom-center",extData:{deviceId:e.deviceId,productId:e.productId}});a.on("click",(function(e){var a=e.target,n=a._opts.extData.deviceId,i=a._opts.extData.productId;switch(i){case 98:t.$router.push({path:"/iot/camera/singlevideo",query:{t:Date.now(),deviceId:n}});break;default:t.$router.push({path:"/iot/device-view",query:{t:Date.now(),deviceId:n,productId:i}});break}})),t.map.add(a)}})),this.map.setFitView()},getAreaCenter:function(t){var e=t.length,a=0,n=0,i=0;t.forEach((function(t){var e,r,o,s=t[0]*Math.PI/180,c=t[1]*Math.PI/180;e=Math.cos(c)*Math.cos(s),r=Math.cos(c)*Math.sin(s),o=Math.sin(c),a+=e,n+=r,i+=o})),a/=e,n/=e,i/=e;var r=Math.atan2(n,a),o=Math.sqrt(a*a+n*n),s=Math.atan2(i,o);return[parseFloat(180*r/Math.PI),parseFloat(180*s/Math.PI)]},getDate:function(){var t=this;return Object(o["a"])(Object(r["a"])().m((function e(){var a,n,i,o,s,g,p,b,h;return Object(r["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,c();case 1:return a=e.v,t.baseInfo=a.rows[0],e.n=2,l();case 2:return n=e.v,t.deviceCountList=n.rows.slice(0,4).map((function(t){return{name:t.productName,value:t.deviceCount}})),t.deviceTotal=n.rows[4].deviceCount,console.log(t.deviceTotal),e.n=3,u();case 3:return i=e.v,t.deviceJobCountList=i.rows,t.$jobTotal=0,t.$deviceJob=t.deviceJobCountList.map((function(e){return t.$jobTotal+=e.jobCount,0==e.status?{name:"未启用",value:e.jobCount}:{name:"启用",value:e.jobCount}})),e.n=4,d();case 4:return o=e.v,o.rows.forEach((function(e){t.traceInfo.date.push(e.date),t.traceInfo.num.push(e.num)})),e.n=5,f();case 5:s=e.v,g=s.rows.find((function(t){return 0==t.status}))?s.rows.find((function(t){return 0==t.status})).num:0,p=s.rows.find((function(t){return 1==t.status}))?s.rows.find((function(t){return 1==t.status})).num:0,b=s.rows.find((function(t){return 2==t.status}))?s.rows.find((function(t){return 2==t.status})).num:0,h=s.rows.find((function(t){return 3==t.status}))?s.rows.find((function(t){return 3==t.status})).num:0,t.$taskTotal=g+p+h+b==0?0:(100*h/(g+p+h+b)).toFixed(2),t.taskInfo=[{name:"未分配",value:g},{name:"已分配",value:p},{name:"进行中",value:b},{name:"已完成",value:h}];case 6:return e.a(2)}}),e)})))()}}},x=C,A=(a("b952"),a("2877")),w=Object(A["a"])(x,n,i,!1,null,"3784a612",null);e["default"]=w.exports},2171:function(t,e,a){t.exports=a.p+"static/img/code.eb01be1e.jpg"},"23dc":function(t,e,a){"use strict";a("6b201")},"584f":function(t,e,a){"use strict";a.d(e,"j",(function(){return i})),a.d(e,"m",(function(){return r})),a.d(e,"k",(function(){return o})),a.d(e,"l",(function(){return s})),a.d(e,"i",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"c",(function(){return u})),a.d(e,"f",(function(){return d})),a.d(e,"h",(function(){return f})),a.d(e,"g",(function(){return g})),a.d(e,"a",(function(){return p})),a.d(e,"n",(function(){return b})),a.d(e,"b",(function(){return h})),a.d(e,"d",(function(){return m}));a("5530");var n=a("b775");function i(t){return Object(n["a"])({url:"/iot/device/list",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/iot/device/unAuthlist",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/iot/device/listByGroup",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/iot/device/shortList",method:"get",params:t})}function c(){return Object(n["a"])({url:"/iot/device/all",method:"get"})}function l(t){return Object(n["a"])({url:"/iot/device/"+t,method:"get"})}function u(t){return Object(n["a"])({url:"/iot/device/synchronization/"+t,method:"get"})}function d(t){return Object(n["a"])({url:"/iot/device/getDeviceBySerialNumber/"+t,method:"get"})}function f(){return Object(n["a"])({url:"/iot/device/statistic",method:"get"})}function g(t){return Object(n["a"])({url:"/iot/device/runningStatus/"+t,method:"get"})}function p(t){return Object(n["a"])({url:"/iot/device",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/iot/device",method:"put",data:t})}function h(t){return Object(n["a"])({url:"/iot/device/"+t,method:"delete"})}function m(){return Object(n["a"])({url:"/iot/device/generator",method:"get"})}},"6b201":function(t,e,a){},"829c":function(t,e,a){"use strict";a("982b")},"982b":function(t,e,a){},b952:function(t,e,a){"use strict";a("f143")},b9d0:function(t,e,a){"use strict";a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return s})),a.d(e,"b",(function(){return c}));var n=a("b775");function i(t){return Object(n["a"])({url:"/agriculture/land/cropLandList",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/agriculture/land/"+t,method:"get"})}function o(t){return Object(n["a"])({url:"/agriculture/land",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/agriculture/land",method:"put",data:t})}function c(t){return Object(n["a"])({url:"/agriculture/land/"+t,method:"delete"})}},d415:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return o}));var n=a("b775");function i(){return Object(n["a"])({url:"/agriculture/baseinfo",method:"get"})}function r(t){return Object(n["a"])({url:"/agriculture/baseinfo",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/agriculture/baseinfo",method:"put",data:t})}},ee59:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dataPanel"},[a("div",{staticClass:"header"},[a("span",{staticClass:"title"},[t._v(t._s(t.title))]),t.more?a("span",{staticClass:"more"},[a("router-link",{attrs:{to:t.link}},[t._v(" "+t._s(t.more)+" "),a("i",{staticClass:"el-icon-arrow-right"})])],1):t._e()]),a("div",{staticClass:"main"},[t._t("default")],2),a("div",{staticClass:"footer"},[t._t("footer")],2)])},i=[],r={name:"DataPanel",props:{title:{type:String,default:""},more:{type:String,default:""},link:{type:String,default:""}},data:function(){return{}}},o=r,s=(a("23dc"),a("2877")),c=Object(s["a"])(o,n,i,!1,null,"87258b16",null);e["default"]=c.exports},f143:function(t,e,a){},f963:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dataBox",class:{border:t.isBorder}},[t.isIcon?a("div",{staticClass:"dataBox-icon",style:{backgroundColor:t.backgroundColor}},[a("i",{class:t.icon})]):t._e(),a("div",{staticClass:"dataBox-des"},[a("div",{staticClass:"dataBox-des-text"},[t._v(t._s(t.text))]),a("div",{staticClass:"dataBox-des-value"},[t._v(t._s(t.value))])])])},i=[],r=(a("a9e3"),{name:"DataBox",data:function(){return{}},props:{isIcon:{type:Boolean,default:!0},isBorder:{type:Boolean,default:!0},icon:{type:String,default:""},backgroundColor:{type:String,default:""},text:{type:String,default:""},value:{type:[Number,String],default:""}}}),o=r,s=(a("829c"),a("2877")),c=Object(s["a"])(o,n,i,!1,null,"053e8ed2",null);e["default"]=c.exports}}]);